# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
#  Factor the gender variable
ds$f.gend <- factor(ds$gender, levels=c(0,1), labels = c("Women", "Men"))
#  recode glbccrisk to five categories
library(car)
ds$r.glbcc_risk <- car::recode(ds$glbcc_risk, "0:1=1; 2:3=2; 4:6=3; 7:8:=4;
9:10=5; NA=NA")
# Chunk 2
#  create the table
table(ds$r.glbcc_risk, ds$f.gend)
#  create the table as an R Object
glbcc.table <- table(ds$r.glbcc_risk, ds$f.gend)
# Chunk 3
#  Multiply by 100
prop.table(glbcc.table, 2) * 100
# Chunk 4
#  Chi Square Test
chisq.test(glbcc.table)
# Chunk 5
library(vcd)
assocstats(glbcc.table)
# Chunk 6
#  recode variables ideology to 3 categories
library(car)
ds$r.ideol<-car::recode(ds$ideol, "1:2=1; 3:5=2; 6:7=3; NA=NA")
#  factor the variables to add labels.
ds$f.ideol<- factor(ds$r.ideol, levels=c(1, 2, 3), labels=c("Liberal",
"Moderate", "Conservative"))
ds$f.glbcc <- factor(ds$glbcc, levels=c(0, 1),
labels = c("GLBCC No", "GLBCC Yes"))
#  3 Two variable table glbcc~ideology
v2.glbcc.table <- table(ds$f.glbcc, ds$f.ideol)
v2.glbcc.table
# Chunk 7
#  Percentages by Column
prop.table(v2.glbcc.table, 2) * 100
# Chunk 8
#  Chi-squared
chisq.test(v2.glbcc.table, correct = FALSE)
# Chunk 9
#  Cramer's V
library(vcd)
assocstats(v2.glbcc.table)
# Chunk 10
#  factor the variables to add labels.
ds$f.gend <- factor(ds$gend, levels=c(0, 1), labels=c("Women", "Men"))
# Chunk 11
#  3 Two variable table glbcc~ideology+gend
v3.glbcc.table <- table(ds$f.glbcc, ds$f.ideol, ds$f.gend)
v3.glbcc.table
# Chunk 12
#  Percentages by Column for Women
prop.table(v3.glbcc.table[,,1], 2) * 100
chisq.test(v3.glbcc.table[,,1])
assocstats(v3.glbcc.table[,,1])
# Chunk 13
#  Percentages by Column for  Men
prop.table(v3.glbcc.table[,,2], 2) * 100
chisq.test(v3.glbcc.table[,,2])
assocstats(v3.glbcc.table[,,2])
# Chunk 14
ds %>% select(age, education, ideol, glbcc_risk) %>% na.omit() %>%
cor()
# Chunk 15
pdf("scatjit.pdf")
ds %>%
ggplot(aes(ideol, glbcc_risk)) +
geom_jitter(shape = 1)
dev.off()
# Chunk 16
pdf("scatjit2.pdf")
ds %>%
drop_na(glbcc_risk, ideol) %>%
ggplot(aes(ideol, glbcc_risk)) +
geom_jitter(shape = 1) +
geom_smooth(method = "loess", color = "green") +
geom_smooth(method = "lm", color = "red")
dev.off()
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
rm(list=ls())
library(tidyverse)
setwd("~/blog stuff")
ds <- read_csv("batting.csv")
ds
View(ds)
windows()
names(ds)
ggplot(ds, aes(Year, SO)) +
geom_bar()
ggplot(ds, aes(Year, SO)) +
geom_bar(stat = "identity")
ggplot(ds, aes(HR, SO)) +
geom_point()
library(reshape2)
ds.m <- melt(ds, measure.vars = c("HR", "SO"))
ds.m
ggplot(ds, aes(year, value, group = variable)) +
geom_bar(stat = "identity")
ggplot(ds, aes(Year, value, group = variable)) +
geom_bar(stat = "identity")
names(ds.m)
ggplot(ds.m, aes(Year, value, color = variable)) +
geom_bar(stat = "identity")
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity")
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_line()
ds.m <- melt(ds, measure.vars = c("HR", "SO", "H"))
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_area()
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_bar()
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity")
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity", position = position_dodge())
ggplot(ds.m, aes(Year, value, color = variable)) +
geom_line()
ggplot(ds.m, aes(Year, value, color = variable)) +
geom_path()
ggplot(ds.m, aes(Year, value, color = variable)) +
geom_line(size = 2)
ggplot(ds.m, aes(Year, value, color = variable)) +
geom_bar(stat = "identity")
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity")
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity") +
facet_wrap(~ variable, scales = "free")
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity") +
facet_wrap(~ variable, scales = "fixed")
names(ds)
ds$XB <- ds$2B + ds$3B
ds <- read_csv("batting.csv")
ds <- read_csv("batting.csv")
View(ds)
ds$XB <- ds$DB + ds$TP+ ds$HR
ds$XB
ds$S <- ds$H - ds$XB
ds$S
ds.h <- melt(ds, measure.vars = c("S", "DB", "TP", "HR"))
ggplot(ds.h, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity") +
facet_wrap(~ variable, scales = "fixed")
ggplot(ds.h, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity")
ggplot(ds.h, aes(Year, value, fill = variable)) +
geom_line()
ggplot(ds.h, aes(Year, value, color = variable)) +
geom_line()
lm1 <- lm(ds$BA ~ ds$SO + ds$H + ds$HR)
summary(lm1)
ggplot(ds, aes(BA, SO)) +
geom_point()
ggplot(ds, aes(BA, HR)) +
geom_point()
ds.m <- melt(ds, measure.vars = c("HR", "SO"))
ggplot(ds.m, aes(Year, value, fill = variable)) +
geom_bar(stat = "identity")
ath <- read_csv("ath.csv")
ath.g <- read_csv("ath_games.csv")
View(ath)
View(ath.g)
ath$WL <- ath.g$`W/L`
ath$WL
View(ath)
windows()
ggplot(ath, aes(Gtm, BA)) +
geom_bar(stat = "identity")
ggplot(ath, aes(Gtm, BA)) +
geom_line(size = 2)
ggplot(ath, aes(Gtm, BA, color = WL)) +
geom_line(size = 2)
rm(list=ls())
# set working directory
setwd("~/Methods Labs/qrmtextbook/new book")
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
# Chunk 1
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 2
library(knitr)
opts_chunk$set(
concordance=TRUE
)
# Chunk 3
opts_chunk$set(fig.width=4, fig.height=4, error=FALSE, message=FALSE,warning=FALSE
, tidy=TRUE, tidy.opts=list(keep.blank.line=TRUE, width.cutoff=60))
# Chunk 4: chap1
# Chunk 5: chap2
# Chunk 6: chap3
# Chunk 7: chap4
# Chunk 8: chap5
# Chunk 9: chap6
# Chunk 10: chap7
# Chunk 11: chap8
# Chunk 12: chap9
# Chunk 13: chap10
# Chunk 14: chap11
# Chunk 15: chap12
# Chunk 16: chap13
# Chunk 17: chap14
# Chunk 18: chap15
# Chunk 19: chap16
# Chunk 20: appa
